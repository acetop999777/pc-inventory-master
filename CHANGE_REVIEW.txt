=== summary ===

## 1) git log (last 30)
623f045d phase8.1: error contract + startup hardening + client build fixes
97b2b143 phase8.0 infra: migrations + metadata jsonb + requestId + AppError scaffold
a176b434 syncstatus: Retry flushes queue then invalidates React Query cache
9dc1b188 rq: offline-friendly QueryClient defaults (no retries/refetch storms)
054533b1 savequeue: hold patches while error; retry only on user action
6dbd452c savequeue: stop auto-retry loop on write error
f0c5fb46 chore: remove obsolete compose version field
691e4255 chore: remove obsolete compose version field
cfdcf4e0 server: clients dates contract to YYYY-MM-DD (read/write normalized)
92aa6c73 7.0 01/12/2026
73ad9942 clients: remove legacy ClientEditor module; all imports point to feature editor
ef4b5a61 chore: remove editor legacy refs from backup files
9570125c clients: move ClientEditor into feature (copy-first) and fix relative UI imports
886ba4d2 clients: add feature editor re-export; decouple ClientDetailPage from presentation path
7cd2e8d5 app: introduce AppRouter; AppLegacy becomes transitional re-export
7444d5d0 nav: hashchange-based flush-before-leave guard (no unstable blocker)
cd33eeb3 app: introduce hash-router routes; navigation guard preserves flush-before-leave
4dd2499b clients: extract list/detail pages; make AppLegacy a thin shell
bdcbdc33 clients: extract list/detail pages from AppLegacy
23168f41 clients: react-query source of truth + savequeue write-behind (draft supported)
381c5b67 clients: react-query source of truth + savequeue write-behind (draft supported)
e92641d0 savequeue: stop auto-retry loop on write error
d4f0c0ed server: unify inventory timestamp to updated_at + align init.sql + batch writes
22073a3e client: use same-origin /api (nginx proxy) instead of direct :5001
35436dc3 clients: use apiCallOrThrow for save + confirm on leave when save fails
ed177363 Merge refactor/react-query into main (stable)
0b6b2f91 chore: ignore local backup artifacts
3ebcde84 chore: update .gitignore for repo sync
dd222bcc all
60379a34 Stable 01/11/2026

## 2) changed files (vs last commit)
?? CHANGE_REVIEW.txt

## 3) diffstat
 .gitignore                                         |   2 +
 client/src/api/ApiError.ts                         |  51 ++
 client/src/api/http.ts                             | 114 ++++
 client/src/api/lib/api.ts                          |  39 ++
 client/src/app/saveQueue/SyncStatusPill.tsx        |  15 +-
 client/src/components/SyncStatus.tsx               | 186 +++++++
 client/src/global.d.ts                             |  15 +
 client/src/index.js                                |   1 +
 client/src/lib/api.ts                              |  41 ++
 client/src/lib/http.ts                             |  20 +
 client/src/lib/httpGlobal.d.ts                     |  14 +
 client/src/lib/httpGlobal.js                       |  30 ++
 client/src/lib/httpGlobal.ts                       |   5 +
 client/src/modules/StockVault.tsx                  |   4 +-
 client/src/modules/lib/api.ts                      |  39 ++
 client/src/state/saveQueue.tsx                     |  37 ++
 client/src/utils.ts                                | 121 ++++-
 client/src/utils.ts.before_fix_dup.20260112_065451 |   9 +-
 client/src/utils.ts.broken.20260112_064904         |   5 +-
 client/src/utils.ts.broken.20260112_064943         |   7 +-
 client/src/utils.ts.broken_keep.20260112_070121    |   9 +-
 client/src/utils.ts.broken_keep.20260112_070519    |   3 +-
 p82.sh                                             | 100 ++++
 scripts/smoke.sh                                   | 100 +++-
 server/index.js                                    | 600 ++++++++++++++-------
 server/middleware/errorHandler.js                  |  42 ++
 server/middleware/notFound.js                      |  10 +
 27 files changed, 1385 insertions(+), 234 deletions(-)

